<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>PGi_Partner_and_Parent_Values_Required</fullName>
    <active>true</active>
    <description>A Partner and a Parent are required on this Account in order to save the record.</description>
    <errorConditionFormula>And(
CONTAINS(RecordType.Name, &quot;PGi&quot;), 
$User.Alias &lt;&gt; &quot;autocln&quot;, 
$User.ProfileId &lt;&gt; &quot;00e30000001kms9&quot;, 
$User.ProfileId &lt;&gt; &quot;00ea0000001sYR8&quot;,
$User.Override_Validation_Rules__c = False, 
OR(
ISBLANK(Partner__c ),
ISBLANK(ParentId)
),
OR(
ISPICKVAL(Type,&#39;Sub Agent&#39;),
ISPICKVAL(Type,&#39;VAR&#39;),
CONTAINS(TEXT(Type),&#39;End User&#39;)
 ))</errorConditionFormula>
    <errorMessage>A Partner and a Parent are required on this Account in order to save the record.</errorMessage>
</ValidationRule>
