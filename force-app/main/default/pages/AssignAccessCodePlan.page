<apex:page standardController="Subscription__c" extensions="AssignPlanController" showHeader="true">
    <apex:pageBlock title="My Content" rendered="{!$User.UITheme == 'Theme3'}">   
        <apex:stylesheet value="{!URLFOR($Resource.RTResources, 'css/jquery-ui.min.css')}"/>
        <apex:includeScript value="{!URLFOR($Resource.RTResources, 'js/jquery.js')}"/>
        <apex:includeScript value="{!URLFOR($Resource.RTResources, 'js/jquery-ui.min.js')}"/>
        <apex:includeScript value="{!URLFOR($Resource.RTResources, 'js/handlebars.js')}" />
        <apex:includeScript value="{!URLFOR($Resource.RTResources, 'js/messaging.js')}"/>
        <apex:includeScript value="{!URLFOR($Resource.RTResources, 'js/remoting.js')}"/>  
        <apex:includeScript value="{!URLFOR($Resource.RTResources, 'js/planAssignmentHelper.js')}"/>      
        
        <script>    
        $(document).ready(function(){  
            $.renderPlanAssignmentDialog({
                objectId: '{!ObjectId}',
                templateURL: "{!URLFOR($Resource.RTResources, 'js/handlebars/planAssignment.hbs')}",
                templateId: 'plans-template',
            });
        });
        </script>
        
        <apex:detail relatedListHover="false"/>            
        
        <script id='plans-template' type="text/x-handlebars-template"></script>
        </apex:pageBlock>
        <apex:pageBlock rendered="{!$User.UITheme != 'Theme3'}">
            <script type="text/javascript">
                { window.alert("Please Switch to Salesforce Classic"); }
                 </script>
        <apex:pageMessage severity="Info" summary="You must switch to salesforce classic to access this page." strength="1"/>
    </apex:pageBlock>
</apex:page>